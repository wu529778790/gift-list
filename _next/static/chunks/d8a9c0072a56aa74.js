(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1457,(e,t,s)=>{t.exports=e.r(79747)},52683,e=>{"use strict";var t=e.i(36364),s=e.i(249),r=e.i(1457),a=e.i(3809);function l(){let e=(0,r.useRouter)(),[l,n]=(0,s.useState)(!1),[d,i]=(0,s.useState)(!1),[c,o]=(0,s.useState)([]),[m,x]=(0,s.useState)(null),[u,h]=(0,s.useState)(null),[b,g]=(0,s.useState)(""),[p,f]=(0,s.useState)(!1),[v,j]=(0,s.useState)("");(0,s.useEffect)(()=>{let t=JSON.parse(localStorage.getItem("giftlist_events")||"[]");o(t);let s=sessionStorage.getItem("currentEvent");if(s){let{event:e}=JSON.parse(s);i(!0),h(e);return}t.length>0?(n(!0),x(null)):e.replace("/setup")},[e]);let N=async t=>{if(t.preventDefault(),m&&b){f(!0),j("");try{if(a.CryptoService.hash(b)!==m.passwordHash){j("å¯†ç é”™è¯¯ï¼"),f(!1);return}sessionStorage.setItem("currentEvent",JSON.stringify({event:m,password:b,timestamp:Date.now()})),e.replace("/main")}catch(e){console.error(e),j("ç™»å½•å¤±è´¥: "+e)}finally{f(!1)}}};if(d){let s;return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"w-full max-w-md card p-8 fade-in",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2 text-center themed-header",children:"ç”µå­ç¤¼ç°¿ç³»ç»Ÿ"}),(0,t.jsx)("p",{className:"text-gray-600 text-center mb-6",children:"æ£€æµ‹åˆ°å½“å‰ä¼šè¯"}),(0,t.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[(0,t.jsx)("div",{className:"font-bold text-blue-900 mb-1 text-sm",children:"å½“å‰äº‹ä»¶ï¼š"}),(0,t.jsx)("div",{className:"text-sm text-blue-800 font-semibold",children:u?.name}),(0,t.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:u&&(s=e=>{let t=new Date(e),s=e=>e.toString().padStart(2,"0");return`${t.getFullYear()}-${s(t.getMonth()+1)}-${s(t.getDate())}`},`${s(u.startDateTime)} ~ ${s(u.endDateTime)}`)})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("button",{onClick:()=>{e.push("/main")},className:"w-full themed-button-primary p-3 rounded-lg font-bold hover-lift",children:"ç»§ç»­ä½¿ç”¨å½“å‰äº‹ä»¶"}),(0,t.jsx)("button",{onClick:()=>{sessionStorage.removeItem("currentEvent"),i(!1);let e=JSON.parse(localStorage.getItem("giftlist_events")||"[]");e.length>0&&(x(e[0]),n(!0))},className:"w-full themed-button-secondary p-3 rounded-lg font-bold hover-lift",children:"åˆ‡æ¢åˆ°å…¶ä»–äº‹ä»¶ï¼ˆéœ€é‡æ–°è¾“å…¥å¯†ç ï¼‰"}),c.length>1&&(0,t.jsxs)("div",{className:"pt-3 border-t themed-border",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"å¿«é€Ÿåˆ‡æ¢ï¼ˆéœ€é‡æ–°è¾“å…¥å¯†ç ï¼‰ï¼š"}),(0,t.jsx)("div",{className:"space-y-2",children:c.map(e=>e.id!==u?.id&&(0,t.jsx)("button",{onClick:()=>{x(e),n(!0),i(!1)},className:"w-full text-left px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded text-sm transition-colors",children:e.name},e.id))})]}),(0,t.jsxs)("div",{className:"pt-3 border-t themed-border space-y-2",children:[(0,t.jsx)("button",{onClick:()=>{e.push("/setup")},className:"w-full themed-button-secondary p-2 rounded text-sm hover-lift",children:"âœ¨ åˆ›å»ºæ–°äº‹ä»¶"}),(0,t.jsx)("button",{onClick:()=>{sessionStorage.removeItem("currentEvent"),e.replace("/")},className:"w-full themed-button-danger p-2 rounded text-sm",children:"ðŸ”„ è¿”å›žé¦–é¡µé‡æ–°é€‰æ‹©"})]})]})]})})}if(l){let s;return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"w-full max-w-md card p-8 fade-in",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2 text-center themed-header",children:"ç”µå­ç¤¼ç°¿ç³»ç»Ÿ"}),(0,t.jsx)("p",{className:"text-gray-600 text-center mb-6",children:m?"è¯·è¾“å…¥å¯†ç ç»§ç»­":"è¯·é€‰æ‹©äº‹ä»¶å¹¶è¾“å…¥å¯†ç "}),!m&&c.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"é€‰æ‹©è¦ç™»å½•çš„äº‹ä»¶"}),(0,t.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:c.map(e=>{let s;return(0,t.jsxs)("button",{onClick:()=>{x(e),g(""),j("")},className:"w-full text-left px-3 py-2 bg-gray-100 hover:bg-blue-50 hover:border-blue-300 border-2 border-transparent rounded transition-all",children:[(0,t.jsx)("div",{className:"font-semibold",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:(s=e=>{let t=new Date(e),s=e=>e.toString().padStart(2,"0");return`${t.getFullYear()}-${s(t.getMonth()+1)}-${s(t.getDate())}`},`${s(e.startDateTime)} ~ ${s(e.endDateTime)}`)})]},e.id)})})]}),m&&(0,t.jsxs)("div",{className:"mb-4 p-3 card text-sm",children:[(0,t.jsx)("div",{className:"font-bold text-gray-700",children:m.name}),(0,t.jsx)("div",{className:"text-gray-600 mt-1",children:(s=e=>{let t=new Date(e),s=e=>e.toString().padStart(2,"0");return`${t.getFullYear()}-${s(t.getMonth()+1)}-${s(t.getDate())} ${s(t.getHours())}:${s(t.getMinutes())}`},`${s(m.startDateTime)} ~ ${s(m.endDateTime)}`)}),(0,t.jsx)("button",{onClick:()=>{x(null),g(""),j("")},className:"mt-2 text-xs text-blue-600 hover:underline",children:"â† é‡æ–°é€‰æ‹©äº‹ä»¶"})]}),(0,t.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ç®¡ç†å¯†ç "}),(0,t.jsx)("input",{type:"password",required:!0,value:b,onChange:e=>{g(e.target.value),j("")},placeholder:"è¯·è¾“å…¥å¯†ç ",className:`themed-ring ${v?"border-red-500":""}`,autoFocus:!0}),v&&(0,t.jsx)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm animate-fade-in",children:v})]}),(0,t.jsx)("button",{type:"submit",disabled:p,className:"w-full themed-button-primary p-3 rounded-lg font-bold hover-lift disabled:opacity-50",children:p?"ç™»å½•ä¸­...":"ç™»å½•"}),(0,t.jsx)("div",{className:"pt-4 border-t themed-border space-y-2",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>e.push("/setup"),className:"flex-1 text-sm themed-button-secondary p-2 rounded hover-lift",children:"âœ¨ åˆ›å»ºæ–°äº‹ä»¶"}),(0,t.jsx)("button",{type:"button",onClick:()=>{confirm("ç¡®å®šè¦åˆ é™¤æ‰€æœ‰äº‹ä»¶å—ï¼Ÿç¤¼é‡‘è®°å½•ä¼šä¿ç•™ä½†æ— æ³•è®¿é—®ã€‚")&&(localStorage.removeItem("giftlist_events"),e.replace("/"))},className:"flex-1 text-sm themed-button-danger p-2 rounded",children:"ðŸ—‘ï¸ æ¸…é™¤äº‹ä»¶"})]})})]})]})})}return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center fade-in-slow",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-4 themed-header",children:"ç”µå­ç¤¼ç°¿ç³»ç»Ÿ"}),(0,t.jsx)("p",{className:"text-gray-600",children:"æ­£åœ¨åˆå§‹åŒ–..."}),(0,t.jsx)("div",{className:"mt-8 text-sm text-gray-500",children:(0,t.jsx)("p",{children:"æ­£åœ¨æ£€æŸ¥å­˜å‚¨çŠ¶æ€..."})}),(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)("a",{href:"/test-data",className:"text-xs text-gray-400 hover:text-gray-600 underline",title:"å¿«é€Ÿç”Ÿæˆæµ‹è¯•æ•°æ®",children:"æµ‹è¯•æ•°æ®ç”Ÿæˆå™¨"})})]})})}e.s(["default",()=>l])}]);
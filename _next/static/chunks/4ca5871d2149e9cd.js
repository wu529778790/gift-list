(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1457,(e,s,t)=>{s.exports=e.r(79747)},14305,e=>{"use strict";var s=e.i(36364),t=e.i(249),r=e.i(1457);function l(){let e=(0,r.useRouter)(),[l,d]=(0,t.useState)([]),n=e=>{d(s=>[...s,`[${new Date().toLocaleTimeString()}] ${e}`])};(0,t.useEffect)(()=>{n("页面加载");let e=setInterval(()=>{n("检查中...")},1e3);return()=>clearInterval(e)},[]);let i={events:JSON.parse(localStorage.getItem("giftlist_events")||"[]").length,session:!!sessionStorage.getItem("currentEvent"),redirect:sessionStorage.getItem("has_redirected")||"无"};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8 fade-in",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6 themed-header",children:"路由跳转测试工具"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[(0,s.jsx)("button",{onClick:()=>{let e=JSON.parse(localStorage.getItem("giftlist_events")||"[]"),s=sessionStorage.getItem("currentEvent"),t=sessionStorage.getItem("has_redirected");n(`Events: ${e.length}`),n(`Session: ${s?"存在":"不存在"}`),n(`Redirect标记: ${t||"无"}`)},className:"themed-button-primary p-3 rounded-lg font-bold",children:"检查存储状态"}),(0,s.jsx)("button",{onClick:()=>{localStorage.clear(),sessionStorage.clear(),n("已清除所有存储")},className:"themed-button-danger p-3 rounded-lg",children:"清除所有数据"}),(0,s.jsx)("button",{onClick:()=>{n("跳转到首页..."),e.push("/")},className:"themed-button-primary p-3 rounded-lg font-bold",children:"跳转首页"}),(0,s.jsx)("button",{onClick:()=>{n("跳转到主界面..."),e.push("/main")},className:"themed-button-secondary border p-3 rounded-lg",children:"跳转主界面"})]}),(0,s.jsxs)("div",{className:"bg-gray-100 p-4 rounded-lg max-h-96 overflow-auto themed-border border",children:[(0,s.jsx)("div",{className:"font-bold mb-2 themed-header",children:"运行日志："}),0===l.length?(0,s.jsx)("div",{className:"text-gray-400 text-center py-4",children:"暂无日志，请点击上方按钮测试"}):l.map((e,t)=>(0,s.jsx)("div",{className:"border-b border-gray-300 py-1 font-mono text-sm",children:e},t))]}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg themed-border border",children:[(0,s.jsx)("h3",{className:"font-bold mb-2",children:"使用说明："}),(0,s.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[(0,s.jsx)("li",{children:'点击"清除所有数据"重置状态'}),(0,s.jsx)("li",{children:'点击"跳转首页"测试跳转逻辑'}),(0,s.jsx)("li",{children:"观察日志和实际跳转行为"}),(0,s.jsx)("li",{children:"手动访问 /test-redirect 也应正常"}),(0,s.jsx)("li",{children:"检查 sessionStorage 和 localStorage 状态"})]})]}),(0,s.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg themed-border border",children:[(0,s.jsx)("h3",{className:"font-bold mb-2 text-blue-800",children:"当前状态："}),(0,s.jsxs)("div",{className:"text-sm font-mono space-y-1",children:[(0,s.jsxs)("div",{children:["Events: ",i.events]}),(0,s.jsxs)("div",{children:["Session: ",i.session?"存在":"不存在"]}),(0,s.jsxs)("div",{children:["Redirect标记: ",i.redirect]})]})]})]})})}e.s(["default",()=>l])}]);